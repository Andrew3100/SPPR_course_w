<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>


<!doctype html>
<html lang="ru">
  <head>
    <!-- Обязательные метатеги -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <title>Задача о назначениях</title>
  </head>
  <body>

    <form method="POST" action="/home/?start=1">
    {% csrf_token %}
    <div style="margin-top: 60px; text-align: center">
        <h1 style="text-align: center">Распределение задач венгерским методом</h1><br><br>
    <table class="table table-bordered table-striped table-hover" style="width: 1000px; margin: auto">
        <tr class="table table-primary">
            <td>Задача</td>
            <td>Тип задачи</td>
            <td>Выбрать</td>
        </tr>
        {% for t in task_list %}
        <tr class="table table-success">
            <td><label for="{{ t.id }}" style="-moz-user-select: none;">{{ t.task_name }}</label></td>
            <td><label for="{{ t.id }}" style="-moz-user-select: none;">{{ t.type }}</label></td>
            <td><input type="checkbox" id="{{ t.id }}" name="{{ t.id }}" checked class="form-check-input"></td>
        </tr>
        {% endfor %}
        <tr><td><button type="submit" class="btn btn-primary">Распределить выбранные задачи</button></td><td></td><td><a class="btn btn-outline-dark" href="/home">Отмена</a></td></tr>
    </table>
    </div>
    </form>
{#{{ str }}#}
{#{{ row }}#}
{#{{ cost }}#}
{#{{ control_matrix }}#}
    {% if tasks_for_ppr %}
    <br>
    <br>
    <h1 style="text-align: center">Сгенерированная матрица задач:</h1>
    <br>
    <table class="table table-primary table-hover table-striped table-bordered" style="width: 1400px; margin: auto; text-align: center">
    <tr>
        <td class="bg-success">Исполнитель / Задача</td>
    {% for tasked in  tasks_for_ppr %}
        <td style="color: black"><b>{{ tasked.task_name }}</b></td>
    {% endfor %}

    </tr>


    {% for key,value in user_times.items %}
        <tr>
            <td style="color: red"><b>{{ key }}</b></td>
        {% for v in value %}
            {% if ' ' in v %}
                <td style="background-color: olive">{{ v }}</td>
            {% else %}
                <td>{{ v }}</td>
            {% endif %}

        {% endfor %}
        <tr>
    {% endfor %}

    </table>

    {% endif %}
{#    {{ users_for_ppr }}#}
{#    {{ user_times }}#}

    <!-- Необязательный JavaScript; выберите один из двух! -->

    <!-- Вариант 1: пакет Bootstrap с Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

    <!-- Вариант 2: отдельные JS для Popper и Bootstrap -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    -->
  </body>
</html>



</body>
</html>